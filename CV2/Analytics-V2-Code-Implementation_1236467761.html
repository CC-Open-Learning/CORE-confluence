<!DOCTYPE html>
<html>
    <head>
        <title>CORE Framework : Analytics V2 Code Implementation</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">CORE Framework</a></span>
                            </li>
                                                    <li>
                                <span><a href="CORE-Framework_495616264.html">CORE Framework</a></span>
                            </li>
                                                    <li>
                                <span><a href="Analytics-Service_707919890.html">Analytics Service</a></span>
                            </li>
                                                    <li>
                                <span><a href="Analytics-V2-Overview_1237155865.html">Analytics V2 Overview</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            CORE Framework : Analytics V2 Code Implementation
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                            
        
    
        
    
        
        
            Created by <span class='author'> Richard Colbourne</span>, last modified on Aug 15, 2024
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <style type='text/css'>/*<![CDATA[*/
div.rbtoc1748544233105 {padding: 0px;}
div.rbtoc1748544233105 ul {list-style: none;margin-left: 0px;}
div.rbtoc1748544233105 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1748544233105'>
<ul class='toc-indentation'>
<li><a href='#AnalyticsV2CodeImplementation-AnalyticsSystemInitialization'>Analytics System Initialization</a></li>
<li><a href='#AnalyticsV2CodeImplementation-LoginUserEvent'>LoginUser Event</a>
<ul class='toc-indentation'>
<li><a href='#AnalyticsV2CodeImplementation-WithoutCallbacks'>Without Callbacks</a></li>
<li><a href='#AnalyticsV2CodeImplementation-WithCallbacks'>With Callbacks</a></li>
</ul>
</li>
<li><a href='#AnalyticsV2CodeImplementation-VersionCheckEvent'>Version Check Event</a></li>
<li><a href='#AnalyticsV2CodeImplementation-CustomEvents'>Custom Events</a>
<ul class='toc-indentation'>
<li><a href='#AnalyticsV2CodeImplementation-WithoutCallbacks.1'>Without Callbacks</a></li>
<li><a href='#AnalyticsV2CodeImplementation-WithCallbacks.1'>With Callbacks</a></li>
</ul>
</li>
<li><a href='#AnalyticsV2CodeImplementation-Pre-definedEvents'>Pre-defined Events</a>
<ul class='toc-indentation'>
<li><a href='#AnalyticsV2CodeImplementation-DLXProjectStartEvent'>DLX Project Start Event</a></li>
<li><a href='#AnalyticsV2CodeImplementation-DLXProjectRestartEvent'>DLX Project Restart Event</a></li>
<li><a href='#AnalyticsV2CodeImplementation-DLXProjectCompleteEvent'>DLX Project Complete Event</a></li>
<li><a href='#AnalyticsV2CodeImplementation-TotalDurationEvent'>Total Duration Event</a>
<ul class='toc-indentation'>
<li><a href='#AnalyticsV2CodeImplementation-WithoutCallbacks.2'>Without Callbacks</a></li>
<li><a href='#AnalyticsV2CodeImplementation-WithCallbacks.2'>With Callbacks</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='#AnalyticsV2CodeImplementation-AnalyticsTimer'>Analytics Timer</a>
<ul class='toc-indentation'>
<li><a href='#AnalyticsV2CodeImplementation-StartAnalyticsTimer'>Start Analytics Timer</a></li>
<li><a href='#AnalyticsV2CodeImplementation-StopAnalyticsTimer'>Stop Analytics Timer</a></li>
<li><a href='#AnalyticsV2CodeImplementation-RestartAnalyticsTimer'>Restart Analytics Timer</a></li>
</ul>
</li>
</ul>
</div><h2 id="AnalyticsV2CodeImplementation-AnalyticsSystemInitialization">Analytics System Initialization</h2><p>The analytics system must be initialized before use.  Ideally, the analytics system should be initialized <em>after</em> the project has completed its initialization phase.  It is recommended that the analytics system initialization call be placed inside an Awake or Start method.</p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CoreAnalytics.Initialize()</pre>
</div></div><p>Example </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">private void Awake()
{
    CoreAnalytics.Initialize();
}</pre>
</div></div><h2 id="AnalyticsV2CodeImplementation-LoginUserEvent">LoginUser Event</h2><p>After initializing the analytics system, the learner must be logged into PlayFab.  A unique user ID must be used when using the login method.  This user ID could be the SCORM ID, or eConestoga login information as long as the process you choose is consistent inside your project.</p><p>The LoginUser Event can be called with or without callbacks.</p><p>Parameters:<br/>uniqueID (string):</p><ul><li><p>A unique user ID.</p></li></ul><h4 id="AnalyticsV2CodeImplementation-WithoutCallbacks">Without Callbacks</h4><p>Only the unique user ID is required when calling the LoginUser Event without callbacks.  </p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CoreAnalytics.LoginUser(uniqueID);</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void LogEvent(string uniqueID)
{
    CoreAnalytics.LoginUser(uniqueID);
}</pre>
</div></div><h4 id="AnalyticsV2CodeImplementation-WithCallbacks">With Callbacks</h4><p>To use the LoginUser method with callbacks, create a method that takes LoginResult as a parameter to capture the SuccessCallback and another method that takes PlayFabError as a parameter to capture the ErrorCallback. Call CoreAnalytics.LoginUser() and pass a unique user ID using the SuccessCallback and ErrorCallback methods. SuccessCallback and ErrorCallback are optional.</p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CoreAnalytics.LoginUser(uniqueID, LoginSuccessCallback, LoginErrorCallback);</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void LogEventWithCallbacks()
{    
    CoreAnalytics.LoginUser(uniqueID, LoginSuccessCallback, LoginErrorCallback);
}</pre>
</div></div><p /><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">private void LoginSuccessCallback(LoginResult loginResult)
{
    Debug.Log(&quot;Login Success Callback&quot;);
}</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">private void LoginErrorCallback(PlayFabError loginError)
{
    Debug.Log(&quot;Login Error Callback&quot;);
}</pre>
</div></div><h2 id="AnalyticsV2CodeImplementation-VersionCheckEvent">Version Check Event</h2><p>To check the DLX version, create a method that takes VersionResult as a parameter to get details on the DLX version. Call CoreAnalytics.VersionCheck() and pass the method created to get the version details.   VersionResult contains,</p><ul><li><p>CurrentVersionNumber : string</p></li><li><p>NewVersionNumber : string </p></li><li><p>IsVersionCorrect : bool</p></li></ul><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">    CoreAnalytics.VersionCheck(ProcessDlxVersionResult);</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void CheckDlxVersion()
{
    CoreAnalytics.VersionCheck(ProcessDlxVersionResult);
}</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">private void ProcessDlxVersionResult(VersionResult versionResult)
{
    Debug.Log(&quot;Version Check Callback&quot;);
    Debug.Log(&quot;Is a Correct Version &quot;+versionResult.IsVersionCorrect);
    Debug.Log(&quot;Current Version &quot; + versionResult.CurentVersionNumber);
    Debug.Log(&quot;New Version &quot;+ versionResult.NewVersionNumber);
}</pre>
</div></div><h2 id="AnalyticsV2CodeImplementation-CustomEvents">Custom Events</h2><p>To track specific actions or metrics within your application, you can use CoreAnalytics.CustomEvent() method. This method allows you to send custom events by specifying an event name, an event-keyword, and an associated value.</p><div class="confluence-information-macro confluence-information-macro-note"><span class="aui-icon aui-icon-small aui-iconfont-warning confluence-information-macro-icon"></span><div class="confluence-information-macro-body"><p> Note: due to the way PlayFab handles special characters, dashes, colons, apostrophes (- ; : ') etc. should not be used.  An underscore (_) is accepted, however PlayFab will convert the underscore to a space (for example, “This_Thing” would become “This Thing”).</p></div></div><p>Parameters:<br/>EventName (string):</p><ul><li><p>A descriptive name for the event you want to track. This should be a string that identifies the action or occurrence being logged (e.g., &quot;UserLogin&quot;, &quot;PurchaseCompleted&quot;).</p></li></ul><p><br/>EventKeyword (string):</p><ul><li><p>A keyword that further categorizes the event. This string can be used to group related events or provide additional context (e.g., &quot;Success&quot;, &quot;Failure&quot;, &quot;ButtonClick&quot;).</p></li></ul><p><br/>Value (object):</p><ul><li><p>An object representing the data associated with the event. This could be any relevant information you want to include, such as a numeric value, a string, or a more complex object containing multiple pieces of data.</p></li></ul><h4 id="AnalyticsV2CodeImplementation-WithoutCallbacks.1">Without Callbacks</h4><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CoreAnalytics.CustomEvent(_eventName, _eventKeyword, _value);</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void SendCustomEvent(string _eventName, string _eventKeyword, object _value )
{
    CoreAnalytics.CustomEvent(_eventName, _eventKeyword, _value);
}</pre>
</div></div><h4 id="AnalyticsV2CodeImplementation-WithCallbacks.1">With Callbacks</h4><p>To send custom events with callbacks, create a method that takes WriteEventResponse as a parameter to capture the SuccessCallback. Create another method that takes PlayFabError as a parameter to capture the error callback. Call CoreAnalytics.CustomEvent() and pass the event name, event keyword, associated value, successCallback method, and ErrorCallback method. SuccessCallback and ErrorCallback are optional.</p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CoreAnalytics.CustomEvent(_eventName, _eventKeyword, _value, CustomEventSuccessCallback, CustomEventErrorCallback);</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void SendCustomEventWithCallbacks(string _eventName, string _eventKeyword, object _value)
{
    CoreAnalytics.CustomEvent(_eventName, _eventKeyword, _value, CustomEventSuccessCallback, CustomEventErrorCallback);
}</pre>
</div></div><p /><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">private void CustomEventSuccessCallback(WriteEventResponse customEventResult)
{
    Debug.Log(&quot;Custom event Success Callback&quot;);
}</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">private void CustomEventErrorCallback(PlayFabError customEventError)
{
    Debug.Log(&quot;Custom event Error Callback&quot;);
}</pre>
</div></div><h2 id="AnalyticsV2CodeImplementation-Pre-definedEvents">Pre-defined Events</h2><p>DLX developers are required to call certain pre-defined events within their applications. These events are crucial for tracking specific actions or metrics, and the analytics system automatically manages the associated data. This allows developers to focus on triggering the events without worrying about handling the underlying data.</p><p>Pre-defined events</p><ul><li><p>DlxProjectStart</p></li><li><p>DlxProjectRestart</p></li><li><p>DlxProjectComplete</p></li><li><p>TotalDuration</p></li></ul><h3 id="AnalyticsV2CodeImplementation-DLXProjectStartEvent">DLX Project Start Event</h3><p>This event can be used to capture application start</p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CoreAnalytics.SendDLXStartedEvent();</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void DlxProjectStart()
{
    CoreAnalytics.SendDLXStartedEvent();
}</pre>
</div></div><h3 id="AnalyticsV2CodeImplementation-DLXProjectRestartEvent">DLX Project Restart Event</h3><p>This event can be used to capture application restart.</p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CoreAnalytics.SendApplicationRestartEvent();</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void DlxProjectRestart()
{
    CoreAnalytics.SendApplicationRestartEvent();
}</pre>
</div></div><h3 id="AnalyticsV2CodeImplementation-DLXProjectCompleteEvent">DLX Project Complete Event</h3><p>This event can be used to capture the complete application.</p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CoreAnalytics.SendDLXCompletedEvent();</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void DlxProjectComplete()
{
    CoreAnalytics.SendDLXCompletedEvent();
}</pre>
</div></div><h3 id="AnalyticsV2CodeImplementation-TotalDurationEvent">Total Duration Event</h3><p>This event is used to capture the total duration of application usage. Unlike other pre-defined events where the analytics system automatically manages data, this event requires developers to provide the duration value manually.</p><p>Parameters:</p><ul><li><p>Total duration (int):</p></li></ul><h4 id="AnalyticsV2CodeImplementation-WithoutCallbacks.2">Without Callbacks</h4><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">    CoreAnalytics.SendDLXTotalDurationEvent(duration);</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void TotalDuration(int duration)
{
    CoreAnalytics.SendDLXTotalDurationEvent(duration);
}</pre>
</div></div><h4 id="AnalyticsV2CodeImplementation-WithCallbacks.2">With Callbacks</h4><p>To send a total duration event with callbacks, create a method that takes WriteEventResponse as a parameter to capture the SuccessCallback. Create another method which takes PlayFabError a parameter to capture the ErrorCallback. Call CoreAnalytics: SendDLXTotalDurationEvent () and pass duration (int ) SuccessCallback method, ErrorCallback method. SuccessCallback and ErrorCallback are optional.</p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">CoreAnalytics.SendDLXTotalDurationEvent(duration, TotalDurationSuccessCallback, TotalDurationErrorCallback);</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void TotalDurationWithCallbacks(int duration)
{
    CoreAnalytics.SendDLXTotalDurationEvent(duration, TotalDurationSuccessCallback, TotalDurationErrorCallback);
}</pre>
</div></div><p /><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">private void TotalDurationSuccessCallback(WriteEventResponse totalDurationEventResult)
{
    Debug.Log(&quot;Total Duration Success Callback&quot;);
}</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">private void TotalDurationErrorCallback(PlayFabError totalDurationEventError)
{
    Debug.Log(&quot;Total Duration Error Callback&quot;);
}</pre>
</div></div><h2 id="AnalyticsV2CodeImplementation-AnalyticsTimer">Analytics Timer</h2><p>These methods provide functionality to manage an analytics timer, allowing you to start, stop, and reset the timer while updating the associated UI text to reflect the current timer state.</p><h3 id="AnalyticsV2CodeImplementation-StartAnalyticsTimer">Start Analytics Timer</h3><p>The method is called TimerAnalytics.Start() to begin the timer.</p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">TimerAnalytics.Start();</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void StartAnalyticsTimer()
{
    TimerAnalytics.Start();
}</pre>
</div></div><h3 id="AnalyticsV2CodeImplementation-StopAnalyticsTimer">Stop Analytics Timer</h3><p>The method is called TimerAnalytics.Stop() to halt the timer.</p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">TimerAnalytics.Stop();</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void StopAnalyticsTimer()
{
    TimerAnalytics.Stop();
}</pre>
</div></div><h3 id="AnalyticsV2CodeImplementation-RestartAnalyticsTimer">Restart Analytics Timer</h3><p>Resets the analytics timer to zero and prepares it for a new session.</p><p>Method</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">TimerAnalytics.Reset();</pre>
</div></div><p>Example</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="syntaxhighlighter-pre" data-syntaxhighlighter-params="brush: java; gutter: false; theme: Confluence" data-theme="Confluence">public void RestartAnalyticsTimer()
{
    TimerAnalytics.Reset();
}</pre>
</div></div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 29, 2025 18:43</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
