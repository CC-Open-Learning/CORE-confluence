<!DOCTYPE html>
<html>
    <head>
        <title>CORE Framework : Grid Shader Creation (using Shader Graph)</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">CORE Framework</a></span>
                            </li>
                                                    <li>
                                <span><a href="CORE-Framework_495616264.html">CORE Framework</a></span>
                            </li>
                                                    <li>
                                <span><a href="Procedural-World-Generation_869138443.html">Procedural World Generation</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            CORE Framework : Grid Shader Creation (using Shader Graph)
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                            
        
    
        
    
        
        
            Created by <span class='author'> Richard Colbourne</span> on Dec 14, 2023
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><strong>Required Package</strong> – Shader Graph (Install from Package Manager) and the sample shaders that come with it (we will leverage the sample grid shader).</p><p><strong>Required Setup</strong> – a plane to display the grid on.</p><h1 id="GridShaderCreation(usingShaderGraph)-Creatingtheshader">Creating the shader</h1><p>Create a new asset -&gt; right-click in the assets folder -&gt; create -&gt; shader graph -&gt; URP -&gt; unlit shader graph.</p><p>Give it a name (“Grid Rectangular Transparent” was used for the grid builder project). </p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="118" loading="lazy" src="attachments/886931459/887390210.png?width=118" data-image-src="attachments/886931459/887390210.png" data-height="25" data-width="118" data-unresolved-comment-count="0" data-linked-resource-id="887390210" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145110.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="60d47c1c-22b3-429a-b90d-fc3847b359ca" data-media-type="file"></span><p>Open the shader by double-clicking it.  The shader graph window should appear. </p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="468" loading="lazy" src="attachments/886931459/887128070.png?width=468" data-image-src="attachments/886931459/887128070.png" data-height="192" data-width="468" data-unresolved-comment-count="0" data-linked-resource-id="887128070" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145149.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="6ae27fa0-2a6d-4a94-a474-917f5f83ffcb" data-media-type="file"></span><p>Right-click and choose Create Node.</p><p>In the search box at the top of the node creation pop-up, search for “grid.”  Alternatively, drag the grid sample from the shader graph samples folder into the shader graph window.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="233" loading="lazy" src="attachments/886931459/886931478.png?width=233" data-image-src="attachments/886931459/886931478.png" data-height="208" data-width="233" data-unresolved-comment-count="0" data-linked-resource-id="886931478" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145214.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="688c617a-4f94-45af-97b0-81998f02e0ba" data-media-type="file"></span><p>The size, tiling and offset of the grid are all modifiable on the newly added node.</p><p>The grid is currently showing the lines in black and the cells in white; however, we want the opposite.  We want to be able to control the lines of the grid instead of the cells.  To do this, we need to add another node. </p><p>Right-click and choose Create Node.</p><p>This time, we will search for “Minus” and select the “One Minus” node to create.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="201" loading="lazy" src="attachments/886931459/887357443.png?width=201" data-image-src="attachments/886931459/887357443.png" data-height="188" data-width="201" data-unresolved-comment-count="0" data-linked-resource-id="887357443" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145243.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="e7bb3d9f-90f3-41da-acf9-aeeed873c848" data-media-type="file"></span><p>Drag a line from the “Out” output of the grid node to the “In” input of the one minus node to connect the nodes.  The one minus node will now display the inverse of the grid node.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="410" loading="lazy" src="attachments/886931459/887193602.png?width=410" data-image-src="attachments/886931459/887193602.png" data-height="263" data-width="410" data-unresolved-comment-count="0" data-linked-resource-id="887193602" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145307.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="20a0a3df-631b-410e-99ea-5a9a3dc73b7b" data-media-type="file"></span><p>The settings for the shader graph need to be updated for the black area of the grid to become transparent, however.  In the Graph Inspector, select graph settings and under surface type, select transparent. </p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="236" loading="lazy" src="attachments/886931459/886996995.png?width=236" data-image-src="attachments/886931459/886996995.png" data-height="303" data-width="236" data-unresolved-comment-count="0" data-linked-resource-id="886996995" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145328.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="20e2735f-cd5d-4987-b297-5e2b45891827" data-media-type="file"></span><p>In the Fragment node, you’ll notice an “Alpha” input has now appeared.  The Alpha input will directly affect the alpha channel of our material. </p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="344" loading="lazy" src="attachments/886931459/887422978.png?width=344" data-image-src="attachments/886931459/887422978.png" data-height="175" data-width="344" data-unresolved-comment-count="0" data-linked-resource-id="887422978" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145345.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="e8e5b4dc-71cc-43c3-850e-cc955bd9bd10" data-media-type="file"></span><p>Drag a line from the “Out” output of the one minus node to the “Alpha” input of the Fragment node.   The black area of our grid will now display as transparent.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="468" loading="lazy" src="attachments/886931459/887259158.png?width=468" data-image-src="attachments/886931459/887259158.png" data-height="203" data-width="468" data-unresolved-comment-count="0" data-linked-resource-id="887259158" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145401.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="513bf847-f1eb-4d2e-a428-142a9106a822" data-media-type="file"></span><p>To see what our shader currently looks like at any time, right-click in the Main Preview window and select the cube option.  You’ll have to repeat this step after any changes to the shader graph.  You can also zoom in and out and pan around this preview window.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="106" loading="lazy" src="attachments/886931459/886898702.png?width=106" data-image-src="attachments/886931459/886898702.png" data-height="107" data-width="106" data-unresolved-comment-count="0" data-linked-resource-id="886898702" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145419.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="e26b8208-4f39-4a5c-a449-eb3c7dac5ea9" data-media-type="file"></span><p>You’ll notice the grid is displayed; however, the grid lines are a very light grey.</p><p>Drag another line from the “Out” output of the one minus node to the “Base Color” input of the Fragment node since we also want to control the color of the lines of our grid (currently white).</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="266" loading="lazy" src="attachments/886931459/887095304.png?width=266" data-image-src="attachments/886931459/887095304.png" data-height="236" data-width="266" data-unresolved-comment-count="0" data-linked-resource-id="887095304" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145438.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="878f7016-30ac-4a1b-85db-763bc447ef30" data-media-type="file"></span><p>Now, when the shader is previewed in the Main Preview window, the lines are bright white and easier to see.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="115" loading="lazy" src="attachments/886931459/887259164.png?width=115" data-image-src="attachments/886931459/887259164.png" data-height="110" data-width="115" data-unresolved-comment-count="0" data-linked-resource-id="887259164" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145501.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="8ee10d44-58f7-4c88-86f4-2da4e5ce831c" data-media-type="file"></span><p>Now that we have our basic shader, we need a material to display it on.</p><p>In the assets folder, right-click the shader we created earlier and select Create and then Material.  This will create material for our shader with the same name as our shader.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="173" loading="lazy" src="attachments/886931459/886964247.png?width=173" data-image-src="attachments/886931459/886964247.png" data-height="15" data-width="173" data-unresolved-comment-count="0" data-linked-resource-id="886964247" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145540.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="075fd626-e52b-4c4b-9c8d-28b650051f58" data-media-type="file"></span><p>Drag this material to the plane created for our shader.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="351" loading="lazy" src="attachments/886931459/887422985.png?width=351" data-image-src="attachments/886931459/887422985.png" data-height="230" data-width="351" data-unresolved-comment-count="0" data-linked-resource-id="887422985" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145554.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="856b88fb-158d-4ae4-9027-15f9ed04ce03" data-media-type="file"></span><p>Depending on how the plane was scaled during creation, you may notice that the shader is stretched or compressed.  Currently, changing the scale of the plane also affects the shader.  While this may be desirable in some situations, generally, the grid should increase in cells when the plane it is displayed on increases in scale.</p><p>In order to have the grid increase in cells instead of stretching with the plane, we need to add some properties to the shader.  Click the + icon and add a Vector2 property (DefaultScale).</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="198" loading="lazy" src="attachments/886931459/887390218.png?width=198" data-image-src="attachments/886931459/887390218.png" data-height="87" data-width="198" data-unresolved-comment-count="0" data-linked-resource-id="887390218" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145613.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="52247081-3503-4390-99ab-88a284e6a19f" data-media-type="file"></span><p>Click on this property, and then in the Node Settings in the Graph Inspector, set the default x value to 10 and the default y value to 10.  Note: Unity uses a 10 by 10 mesh by default when creating a plane, so we are setting our default values to match this.  If, for some reason, your plane has different values, you will need to adjust accordingly.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="215" loading="lazy" src="attachments/886931459/886931485.png?width=215" data-image-src="attachments/886931459/886931485.png" data-height="227" data-width="215" data-unresolved-comment-count="0" data-linked-resource-id="886931485" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145633.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="34f6dab3-b00f-499c-bc35-f011aa5846df" data-media-type="file"></span><p>Now that we have that property set up we need to bring in an object node so we can get the scale values.</p><p>Create a new “Object” node by right-clicking on the black area and searching for object.  You’ll notice there is a “scale” output on this node.  However, it is currently a full vector and we only need the x and z values since it is a plane and we are using a Vector2 for our sizes and scale.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="164" loading="lazy" src="attachments/886931459/887324674.png?width=164" data-image-src="attachments/886931459/887324674.png" data-height="171" data-width="164" data-unresolved-comment-count="0" data-linked-resource-id="887324674" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145649.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="5c0d1010-ce6f-444d-b8cc-6f6018040ca5" data-media-type="file"></span><p>In order to get those values, we need to create a new “Split” node by right-clicking on the black area and search for “split”.  Once created, draw a line from the scale output on the object node to the “In” input of the split node.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="311" loading="lazy" src="attachments/886931459/886898711.png?width=311" data-image-src="attachments/886931459/886898711.png" data-height="175" data-width="311" data-unresolved-comment-count="0" data-linked-resource-id="886898711" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145727.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="28aa742e-bf1c-46bc-8cb2-4690a2285d3a" data-media-type="file"></span><p>Next we need to combine the split values back into a Vector2.  Create a new “Vector2” node by right-clicking on the black area and searching for “vector2”.  To connect this correctly, drag a line from the “R” output of the split node to the “X” input of the Vector2 node.  Then drag a line from the “B” output of the split node to the “Y” input of the Vector 2 node.  Important note: the split node is generally used to split Vector4 values such as the Red, Green, Blue and Alpha channels of a graphic.  For our purposes, we are using it to split a Vector3.  Since we know the first value in the Vector3 is the x value, we use the R output to get the Vector1 x value of the input Vector3.  Likewise, we know the third value in the Vector3 is the z value, so we use the B output to get the Vector1 z value of the input Vector3.  The G output could get the y value of the input Vector3 if needed, but we don’t need it for our grid.  The A output would give us no value since we are using a Vector3 as the input.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="306" loading="lazy" src="attachments/886931459/887357453.png?width=306" data-image-src="attachments/886931459/887357453.png" data-height="161" data-width="306" data-unresolved-comment-count="0" data-linked-resource-id="887357453" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145739.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="315b0f60-7431-42d0-9a62-d74e93b92fc7" data-media-type="file"></span><p>In order to respond to changes in the scale of the plane, we need to add a “Multiply” node by right-clicking on the black area and searching for “multiply”.  Drag a line from the “Out” output of the split node to the “A” input of the multiply node.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="402" loading="lazy" src="attachments/886931459/887324681.png?width=402" data-image-src="attachments/886931459/887324681.png" data-height="278" data-width="402" data-unresolved-comment-count="0" data-linked-resource-id="887324681" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145757.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="05be6b3b-b22f-4368-8f46-19a79e87623b" data-media-type="file"></span><p>Next, drag the DefaultScale variable onto the black area to add it to the shader graph.  Drag a line from the output side of the DefaultScale variable to the “B” input of the multiply node.  This will take our 10 x 10 default scale value and multiply it automatically against the object's scale (plane) if it changes in our scene.  For example, if the scale changes from 1 x 1 on the plane to 2 x 1, our new grid will be 20 x 10 (2x * 10x, 1y * 10y).</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="362" loading="lazy" src="attachments/886931459/886865926.png?width=362" data-image-src="attachments/886931459/886865926.png" data-height="293" data-width="362" data-unresolved-comment-count="0" data-linked-resource-id="886865926" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145824.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="24f99aea-b17f-48ff-bd6e-c69f60d7caa7" data-media-type="file"></span><p>At this point, our grid will work; however, we may want to change the size of the grid cells as well.  We’ll add a variable (size) to the properties by clicking the + icon and adding another Vector2 variable. </p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="207" loading="lazy" src="attachments/886931459/887422992.png?width=207" data-image-src="attachments/886931459/887422992.png" data-height="113" data-width="207" data-unresolved-comment-count="0" data-linked-resource-id="887422992" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145839.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="e7681a75-1b15-4a67-b10e-e8e98a399618" data-media-type="file"></span><p>In the Node Setting tab of the Graph Inspector, set the default value for this variable to 1 x 1 as our current grid size corresponds to 1 Unity unit by 1 Unity unit to match the originally created plane.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="219" loading="lazy" src="attachments/886931459/887029775.png?width=219" data-image-src="attachments/886931459/887029775.png" data-height="228" data-width="219" data-unresolved-comment-count="0" data-linked-resource-id="887029775" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145848.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="43d7e4d6-02d4-47c2-827d-c1026aa746fd" data-media-type="file"></span><p>We now need to connect our new size variable.  Create a new Multiply node and drag a line from the “Out” output of the previous multiply node to the “A” input of the newly created Multiply node.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="273" loading="lazy" src="attachments/886931459/887259170.png?width=273" data-image-src="attachments/886931459/887259170.png" data-height="175" data-width="273" data-unresolved-comment-count="0" data-linked-resource-id="887259170" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145857.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="1d91c54d-d468-403b-918e-a2f611890190" data-media-type="file"></span><p>Drag the Size variable onto the graph area and connect it’s output to the “B” input of the new Multiply node.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="170" loading="lazy" src="attachments/886931459/887095313.png?width=170" data-image-src="attachments/886931459/887095313.png" data-height="147" data-width="170" data-unresolved-comment-count="0" data-linked-resource-id="887095313" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145912.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="0fc0cd1d-7849-4d84-8027-f93e9e4bf6f3" data-media-type="file"></span><p>Next, we’ll connect these new nodes to our previously created grid nodes by dragging a line from the “Out” output of the second multiply node (our size one) to the “Tiling” input of our grid node.  This allows our shader to “tile” or add additional cells instead of stretching the existing cells when the scale of the plane changes.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="224" loading="lazy" src="attachments/886931459/887029781.png?width=224" data-image-src="attachments/886931459/887029781.png" data-height="192" data-width="224" data-unresolved-comment-count="0" data-linked-resource-id="887029781" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145926.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="aa5a3fcd-fbe7-43b1-b325-d4cc19afbc66" data-media-type="file"></span><p>Our shader will work decently at this point.  However, let’s also create a way to control the thickness of the gridlines.  Click the + icon and add a “float” variable for the thickness. </p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="195" loading="lazy" src="attachments/886931459/887324688.png?width=195" data-image-src="attachments/886931459/887324688.png" data-height="134" data-width="195" data-unresolved-comment-count="0" data-linked-resource-id="887324688" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-145942.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="63740a42-25c6-41d0-b928-a59e5ec466ca" data-media-type="file"></span><p>In the Node Settings of the Graph Inspector, set the mode to slider.  You can then set the default thickness as well as the minimum and maximum thicknesses.  I used 0.05 for the default, 0.01 for the minimum and 0.05 for the maximum thicknesses when creating the shader for the grid builder tool.  You’ll notice the size default of our Grid Node is currently 0.9 but we’ve set our thickness values much smaller.  We do this for finer control, but to display properly, we need another step.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="216" loading="lazy" src="attachments/886931459/887226372.png?width=216" data-image-src="attachments/886931459/887226372.png" data-height="228" data-width="216" data-unresolved-comment-count="0" data-linked-resource-id="887226372" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-150004.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="285c400d-236a-4c77-a79d-6ef3e5c0c2bf" data-media-type="file"></span><p>Since we want our thickness close to our original Grid Node size (0.9), we can add another One Minus node.  Right-click on the black area and search for minus and add the node.  Then drag the Thickness variable onto the black area.  Draw a line from the thickness variable to the “In” input of the one minus node.  With our default thickness of 0.05 the output of the one minus node will be 1 – 0.05, or 0.95.  Next, draw a line from the “Out” output of this one minus node to the “Size” input of the grid node.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="373" loading="lazy" src="attachments/886931459/887357460.png?width=373" data-image-src="attachments/886931459/887357460.png" data-height="346" data-width="373" data-unresolved-comment-count="0" data-linked-resource-id="887357460" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-150027.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="50d1879f-5fe2-4492-8161-2f0ce1792626" data-media-type="file"></span><p>The grid will now display properly and can be configured effectively.  We are almost done.  The last part will be to add functionality to configure the color.</p><p>We’ll add a variable to the properties for color in case we want to change the color of our grid later.  Click the + icon and add a Color property (I left the default name of Color).  </p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="194" loading="lazy" src="attachments/886931459/887193613.png?width=194" data-image-src="attachments/886931459/887193613.png" data-height="155" data-width="194" data-unresolved-comment-count="0" data-linked-resource-id="887193613" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-150047.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="f162eb97-9792-434d-bb9f-28d8c34c03dc" data-media-type="file"></span><p>Like our DefaultScale property, we’ll need to set a default color in the Node Setting tab of the Graph Inspector as well once we click on our Color variable.  I used White for the grid builder.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="212" loading="lazy" src="attachments/886931459/887193619.png?width=212" data-image-src="attachments/886931459/887193619.png" data-height="211" data-width="212" data-unresolved-comment-count="0" data-linked-resource-id="887193619" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-150104.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="5a8c70b1-18e8-4e17-b97c-9c066ef7d3e3" data-media-type="file"></span><p>As indicated before, colors are stored as a R,G,B,A Vector4 value.  Knowing this, we can add another multiply node to our shader graph.</p><p>Next, delete the line connecting the one minus node to the “base color” input of the fragment.</p><p>Draw a line from one minus (the one connected to the output of the grid node) output to the “B” input of the newly created multiply node.  Then drag the colour variable into the shader graph and connect its output to the “A” input of the multiply node.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="287" loading="lazy" src="attachments/886931459/887259178.png?width=287" data-image-src="attachments/886931459/887259178.png" data-height="227" data-width="287" data-unresolved-comment-count="0" data-linked-resource-id="887259178" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-150147.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="d66fc793-e177-46b9-8631-b5feca302f41" data-media-type="file"></span><p>Lastly, draw a line from the “Out” output on the multiply node to the “base color” input of the fragment.  This completes the creation of our shader.  If you check the inspector for the material you created during this process, you’ll see the created properties and can modify them from there or through code in real-time.</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="293" loading="lazy" src="attachments/886931459/886997001.png?width=293" data-image-src="attachments/886931459/886997001.png" data-height="267" data-width="293" data-unresolved-comment-count="0" data-linked-resource-id="886997001" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-150203.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="60648d15-322b-4d5e-95ea-af59e5a7ab3b" data-media-type="file"></span><p>Your full shader graph should look similar to this:</p><span class="confluence-embedded-file-wrapper image-center-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image image-center" width="754" loading="lazy" src="attachments/886931459/887259184.png?width=754" data-image-src="attachments/886931459/887259184.png" data-height="185" data-width="468" data-unresolved-comment-count="0" data-linked-resource-id="887259184" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image-20231214-150247.png" data-base-url="https://varlab-dev.atlassian.net/wiki" data-linked-resource-content-type="image/png" data-linked-resource-container-id="886931459" data-linked-resource-container-version="1" data-media-id="35f565ac-2bdd-495b-a9b2-526640730181" data-media-type="file"></span><p />
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887390210.png">image-20231214-145110.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887128070.png">image-20231214-145149.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/886931478.png">image-20231214-145214.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887357443.png">image-20231214-145243.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887193602.png">image-20231214-145307.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/886996995.png">image-20231214-145328.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887422978.png">image-20231214-145345.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887259158.png">image-20231214-145401.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/886898702.png">image-20231214-145419.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887095304.png">image-20231214-145438.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887259164.png">image-20231214-145501.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/886964247.png">image-20231214-145540.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887422985.png">image-20231214-145554.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887390218.png">image-20231214-145613.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/886931485.png">image-20231214-145633.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887324674.png">image-20231214-145649.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/886898711.png">image-20231214-145727.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887357453.png">image-20231214-145739.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887324681.png">image-20231214-145757.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/886865926.png">image-20231214-145824.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887422992.png">image-20231214-145839.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887029775.png">image-20231214-145848.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887259170.png">image-20231214-145857.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887095313.png">image-20231214-145912.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887029781.png">image-20231214-145926.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887324688.png">image-20231214-145942.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887226372.png">image-20231214-150004.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887357460.png">image-20231214-150027.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887193613.png">image-20231214-150047.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887193619.png">image-20231214-150104.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887259178.png">image-20231214-150147.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/886997001.png">image-20231214-150203.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/886931459/887259184.png">image-20231214-150247.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on May 29, 2025 18:50</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
